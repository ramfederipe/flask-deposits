<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{% block title %}Dashboard{% endblock %}</title>

<!-- Fonts & Icons -->
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>

<!-- Header -->
<header>
    <div class="header-left">
        <i class="fas fa-bars toggle-btn" onclick="toggleSidebar()"></i>
        <div class="header-item">Account: {% block account_name %}Admin{% endblock %}</div>
        <div class="header-item">
            Language:
            <select>
                <option>English</option>
                <option>Filipino</option>
                <option>Spanish</option>
            </select>
        </div>
    </div>
    <div class="header-right">
        <div class="header-item">
            Server Time: <span id="server-time">--:--:--</span>
        </div>
        <div class="header-item">
            GMT:
            <select id="gmt" onchange="updateServerTime()">
                <option value="-12">GMT -12</option>
                <option value="-8">GMT -8</option>
                <option value="0">GMT 0</option>
                <option value="8" selected>GMT +8</option>
                <option value="12">GMT +12</option>
            </select>
        </div>
    </div>
</header>

<!-- Accounts Navbar -->
{% if show_accounts_header %}
<nav class="accounts-nav">
    <a href="{{ url_for('accounts_management') }}" class="{% if active_page=='accounts_management' %}active{% endif %}">Accounts Management</a>
    <a href="{{ url_for('monitoring') }}" class="{% if active_page=='monitoring' %}active{% endif %}">Monitoring</a>
    <a href="{{ url_for('overview') }}" class="{% if active_page=='overview' %}active{% endif %}">Overview</a>
    <a href="{{ url_for('wallet_limit') }}" class="{% if active_page=='wallet_limit' %}active{% endif %}">Wallet/Limit</a>
    <a href="{{ url_for('inactive') }}" class="{% if active_page=='inactive' %}active{% endif %}">Inactive</a>
</nav>
{% endif %}

<!-- Sidebar + Main -->
<div class="container">
    <!-- Sidebar -->
    <aside id="sidebar">
        <ul>
            <li><a href="{{ url_for('dashboard') }}"><i class="fas fa-tachometer-alt"></i> <span>Dashboard</span></a></li>
            <li><a href="{{ url_for('deposit') }}"><i class="fas fa-wallet"></i> <span>Deposit</span></a></li>
            <li><a href="{{ url_for('withdrawal') }}"><i class="fas fa-money-bill-transfer"></i> <span>Withdrawal</span></a></li>
            <li><a href="{{ url_for('accounts') }}"><i class="fas fa-users"></i> <span>Accounts</span></a></li>
            <li><a href="{{ url_for('adjustments') }}"><i class="fas fa-file-invoice-dollar"></i> <span>Adjustments</span></a></li>
            <li><a href="{{ url_for('ramborghini') }}"><i class="fas fa-robot"></i> <span>RamBorghini AI</span></a></li>
            <li><a href="{{ url_for('settings') }}"><i class="fas fa-cog"></i> <span>Settings</span></a></li>
        </ul>
    </aside>

    <!-- Main content -->
    <main>
        {% block content %}{% endblock %}
    </main>
</div>

<!-- Footer -->
<footer>
    <div>&copy; {{ current_year }} <strong class="animated-name">Ram borghini</strong></div>
    <div>
        Built with:
        <i class="fa-brands fa-html5"></i>
        <i class="fa-brands fa-css3-alt"></i>
        <i class="fa-brands fa-js"></i>
        <i class="fa-brands fa-font-awesome"></i>
    </div>
</footer>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Sidebar toggle
    function toggleSidebar() {
        const sidebar = document.getElementById("sidebar");
        const container = document.querySelector(".container");
        sidebar.classList.toggle("collapsed");
        container.classList.toggle("sidebar-collapsed");
    }

    // Server time
    const serverTimeEl = document.getElementById('server-time');
    const gmtSelect = document.getElementById('gmt');
    function updateServerTime() {
        const now = new Date();
        const gmtOffset = parseInt(gmtSelect.value);
        const utc = now.getTime() + now.getTimezoneOffset() * 60000;
        const localTime = new Date(utc + gmtOffset * 3600000);
        serverTimeEl.textContent = localTime.toLocaleTimeString();
    }
    setInterval(updateServerTime, 1000);
    updateServerTime();
</script>

</body>
</html>
